{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
  <!-- Profiles -->
  <div class="card mb-4">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h5 class="mb-0">Profiles</h5>
      <button class="btn btn-sm btn-success" onclick="fetchProfiles()">⟳ Refresh</button>
    </div>
    <div class="card-body">
      <form id="profile-form" class="mb-3">
        <div class="row g-2">
          <div class="col-md-3"><input required type="text" class="form-control" id="name" placeholder="Name"></div>
          <div class="col-md-3"><input required type="url" class="form-control" id="base_url" placeholder="Base URL"></div>
          <div class="col-md-2">
            <select required class="form-control" id="language">
              <option value="" disabled selected>Select Language</option>
              <option value="English">English</option>
              <option value="Hindi">Hindi</option>
              <option value="Kannada">Kannada</option>
              <!-- Add more languages as needed -->
            </select>
          </div>
          <div class="col-md-2">
            <select required class="form-control" id="crawling_strategy">
              <option value="" disabled selected>Select Strategy</option>
              <option value="Depth-First">Depth-First</option>
              <option value="Breadth-First">Breadth-First</option>
              <option value="Keyword-Based">Keyword-Based</option>
              <option value="Time-Based">Time-Based</option>
              <!-- Add more strategies as needed -->
            </select>
          </div>
          <div class="col-md-2">
            <button class="btn btn-primary w-100" type="submit">➕ Add</button>
          </div>
        </div>
      </form>
      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">Name</th>
            <th scope="col">Base URL</th>
            <th scope="col">Language</th>
            <th scope="col">Strategy</th>
            <th scope="col">Crawling State</th>
            <th scope="col">Last Crawling</th>
            <!-- <th scope="col">Active</th>-->
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody id="profile-list">
          <!-- Dynamic rows will be appended here -->
        </tbody>
      </table>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}

{% block javascript %}
<script src="/static/profiles.js"></script>
{% endblock %}
